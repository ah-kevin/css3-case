<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>app</title>

  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <!-- Place favicon.ico in the root directory -->

  <!-- build:css styles/vendor.css -->
  <!-- bower:css -->
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->

  <!-- build:js scripts/vendor/modernizr.js -->
  <script src="/bower_components/modernizr/modernizr.js"></script>
  <!-- endbuild -->
</head>
<body>
<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
  your browser</a> to improve your experience.</p>
<![endif]-->

<div id='content'>
  <ul class='content-wrap'>
    <!-- 第一副画面 -->
    <li>
      <div class="a_background">
        <div class="a_background_top"></div>
        <div class="a_background_middle"></div>
        <div class="a_background_bottom"></div>
      </div>
      <!-- 云 -->
      <div class="cloudArea">
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
      </div>
      <!-- 太阳 -->
      <div id="sun"></div>
    </li>
    <!-- 第二副画面 -->
    <li> 页面2</li>
    <!-- 第三副画面 -->
    <li> 页面3</li>
  </ul>
  <!-- 与页面根节点并列-->
  <div id="boy" class="charector"></div>
  <div class="button">
    <button>开始</button>
    <button>暂停</button>
  </div>
</div>


<!-- build:js scripts/vendor.js -->
<!-- bower:js -->
<script src="/bower_components/jquery/dist/jquery.js"></script>
<script src="/bower_components/jquery.transit/jquery.transit.js"></script>
<!-- endbower -->
<!-- endbuild -->

<!-- build:js scripts/plugins.js -->
<script src="scripts/mySwipe.js"></script>
<!-- endbuild -->

<!-- build:js scripts/main.js -->
<script src="scripts/Qixi.js"></script>
<script src="scripts/main.js"></script>
<!-- endbuild -->
<script>
  $(function () {
    var container = $("#content");

    var swipe = Swipe(container);
    //页面滚动到指定的位置
    function scrollTo(time,proportionX){
      var distX=container.width()*proportionX;
      swipe.scrollTo(distX,time);
    }

    ////////////////////////////////////////////////////////
    //=================== 动画处理 ====================== //
    ////////////////////////////////////////////////////////

    //////////
    // 小孩走路 //
    //////////
    var boy = BoyWalk();


    // 开始
    $("button:first").click(function () {

      // 太阳公转
      $("#sun").addClass('rotation');

      // 飘云
      $(".cloud:first").addClass('cloud1Anim');
      $(".cloud:last").addClass('cloud2Anim');

      // 开始第一次走路
      // 开始第一次走路
      boy.walkTo(2000, 0.2)
        .then(function() {
          // 第一次走路完成
          // 开始页面滚动
          scrollTo(5000,1)
        }).then(function() {
          // 第二次走路
          return boy.walkTo(5000, 0.5);
        });
    });
  })

</script>
</body>
</html>
